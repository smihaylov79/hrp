{% extends "finance/navigation.html" %}
{% block finance_navigation %}

<div class="container mt-5">
    <div class="card shadow-sm p-4">
        <h2 class="mb-3">ğŸ“ˆ ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸ Ñ‚Ğ¸Ğº Ğ´Ğ°Ğ½Ğ½Ğ¸ Ğ·Ğ° ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»</h2>
        <form method="GET" onsubmit="encodeHash(this)">
  <input type="text" id="symbolInput" name="symbol" placeholder="Ğ’ÑŠĞ²ĞµĞ´Ğ¸ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»" value="{{ symbol }}" />
  <button type="submit">ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸</button>
</form>

{% if data %}
  {% if data.error %}
    <div class="alert alert-danger">âš ï¸ {{ data.error }}</div>
  {% else %}
    <div class="alert alert-info">
      <strong>{{ symbol }}</strong><br>
      ğŸŸ¢ Bid: {{ data.bid }}<br>
      ğŸ”µ Ask: {{ data.ask }}<br>
      ğŸŸ¡ Last: {{ data.last }}
    </div>
  {% endif %}
{% endif %}

    </div>
</div>

    <script>
  function encodeHash(form) {
    const input = form.symbol;
    if (input.value.includes('#')) {
      input.value = encodeURIComponent(input.value);
    }
  }
</script>
{% endblock %}